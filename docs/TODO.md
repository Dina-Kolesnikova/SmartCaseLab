# 🧪 Test Case Generator Web App – Specification & TODO List

A React-based web app that takes a JSON object (uploaded or pasted), parses it, generates a table of test cases for API automation, and allows CSV/JSON export. Users can auto-generate or manually input test values and save progress as drafts.

---

## ✅ STACK

- **Frontend:** React.js (with Hooks)
- **Styling:** Tailwind CSS
- **State Management:** useReducer or Context API
- **Data Gen:** faker.js + custom rules
- **Persistence:** LocalStorage / IndexedDB
- **CSV Parsing:** PapaParse
- **JSON Utils:** Custom flattener or `json-to-flat`

---

## 🚧 TODO LIST (from Easy ➝ Hard)

### 1. 🏠 Create Home Page with JSON Input Options [DONE]

**Tasks**
- [x] Add 2 buttons: "Upload JSON File" and "Paste JSON Data"
- [x] Add drag & drop or file input
- [x] Add textarea for pasting JSON

**Acceptance Criteria**
- [x] User can upload or paste a JSON payload
- [x] Input is validated (malformed JSON shows an error)
- [x] JSON is passed to parser module

---

### 2. 🧾 Parse JSON and Flatten Nested Keys

**Tasks**
- Convert input JSON into flat key format (e.g., `pickup_info.name`)
- Extract top-level array (or wrap object in an array if needed)
- Identify nested fields and store a reference

**Acceptance Criteria**
- Keys are correctly flattened
- Nested keys are marked (e.g., `pickup_info.name`)
- Parsed keys are passed to table generator

---

### 3. 📊 Generate Table with Columns from JSON Keys [DONE]

**Tasks**
- [x] Render table dynamically from parsed keys
- [x] Add one row by default
- [x] Add column: "Test Case Name"

**Acceptance Criteria**
- [x] Each key becomes a column
- [x] One empty row is generated by default (if input JSON is empty or results in no data)
- [x] Table updates when new JSON is parsed

---

### 4. ✏️ Enable Manual Cell Editing [DONE*]

**Tasks**
- [x] Allow user to type directly into any cell (for primitive values)
- [x] Allow manual input in "Test Case Name" field
- [x] Autofill default names if left blank (`TC_01`, etc.)

**Acceptance Criteria**
- [x] User can edit any field (primitive values; objects/arrays are read-only in cell)
- [x] Empty test case name gets a generated default
- [x] All changes are reflected in real-time

*Note: Direct in-cell editing of complex types (objects/arrays) is not supported; they are displayed as JSON strings and are read-only. Further UI would be needed for structured editing of these types.*

---

### 5. ➕ Add Row / Delete Row Functionality

**Tasks**
- Button to add new test case row
- Option to delete existing rows

**Acceptance Criteria**
- Clicking "Add Row" creates a new empty row
- Clicking "Delete" removes the row from the table
- Table updates without errors

---

### 6. ⚙️ Implement Auto-Generation for Fields

**Tasks**
- Use `faker.js` or internal logic to generate values
- Detect key type based on name/type (e.g., `email`, `price`)
- Add button in each column header to auto-fill that column

**Acceptance Criteria**
- User can generate data per field with one click
- Generated values match expected formats (string, email, date)
- Generated values appear instantly in all rows

---

### 7. 🎯 Add Field Rule Configuration (Presets) - TO FINISH LATER

**Tasks**
- Allow user to define rules per key (e.g., VIN → 17-char string)
- Save rules in LocalStorage
- Apply saved rules when generating data

**Acceptance Criteria**
- Rule editor exists for each field
- Saved rules persist across reloads
- Auto-generation respects user-defined rules

---

### 8. 💾 Implement Local Draft Saving & Loading [DONE]

**Tasks**
- [x] Save current state (rows, field rules) to LocalStorage
- [x] Add "Save Draft" and "Load Draft" buttons

**Acceptance Criteria**
- [x] User can save and resume work
- [x] Draft persists on reload
- [x] No data loss between sessions

---

### 9. 📤 Export Table to CSV and JSON [DONE]

**Tasks**
- [x] Format data into proper JSON (same as input structure)
- [x] Flatten and export table to CSV for Postman
- [x] Ensure special handling for arrays

**Acceptance Criteria**
- [x] Exported JSON matches original schema
- [x] Exported CSV opens in Postman Runner without error
- [x] User receives file download when clicking export

---

### 10. 🧪 Generate Postman-Compatible Request Template (Optional) [DONE]

**Tasks**
- [x] Generate example cURL or Postman request with variables (e.g., `{{pickup_info.name}}`)
- [x] Use table headers as variable names

**Acceptance Criteria**
- [x] Postman request contains placeholders from test data
- [x] Sample collection/request is downloadable or copy-pasteable
- [x] Variable names are consistent with table headers

---

## 🎨 UX Features (Optional, Later)

- Sticky table header
- Column filters or hiding
- Tooltip with field type hint
- Dark mode toggle
- Multi-project support

---

## 🔐 Future Enhancements

- User login and cloud drafts
- JSON schema validation
- Negative test case generation
- Test execution preview

---

## 🏁 How to Use This TODO

Start feature-by-feature:
- ✅ Check off items after meeting Acceptance Criteria
- 🔁 Re-test Export features with updated data
- 💡 Use feature toggles or comments to isolate builds

---
